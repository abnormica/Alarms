<?xml version="1.0" encoding="UTF-8"?>
<record_update table="wf_workflow_version">
    <wf_workflow_version action="INSERT_OR_UPDATE">
        <active>true</active>
        <activity_stages>{"ends":["a10d35f9dbb917002bb7788dbf9619ab"],"subflows":[],"stages":{},"activities":{}}</activity_stages>
        <after_business_rules>false</after_business_rules>
        <checked_out/>
        <checked_out_by/>
        <column_renderer display_value="Workflow-driven">a56213111b030100adca1e094f0713ac</column_renderer>
        <condition table="x_179380_alarms_table">alertidISNOTEMPTY^EQ<item endquery="false" field="alertid" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/>
            <item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/>
        </condition>
        <condition_type>run_match</condition_type>
        <description>Manage the Incident associated with an Alarm</description>
        <expected_sequences>a50d35f9dbb917002bb7788dbf9619ad,e50d35f9dbb917002bb7788dbf9619a8,ed0df9b5dbb917002bb7788dbf96192f,e90d35f9dbb917002bb7788dbf9619a7,e10d35f9dbb917002bb7788dbf9619ae,e10d35f9dbb917002bb7788dbf9619aa,2d0df9b5dbb917002bb7788dbf96192e,6d0d35f9dbb917002bb7788dbf9619ab,690d35f9dbb917002bb7788dbf9619ac,e90df9b5dbb917002bb7788dbf96192c,a10d35f9dbb917002bb7788dbf9619ab,e50d35f9dbb917002bb7788dbf9619a9,e90d35f9dbb917002bb7788dbf9619a6</expected_sequences>
        <expected_time>1970-01-01 14:00:00</expected_time>
        <expected_time_type/>
        <full_sequences>a50d35f9dbb917002bb7788dbf9619ad,e50d35f9dbb917002bb7788dbf9619a8,ed0df9b5dbb917002bb7788dbf96192f,e90d35f9dbb917002bb7788dbf9619a7,2d0df9b5dbb917002bb7788dbf96192e,e10d35f9dbb917002bb7788dbf9619aa,e10d35f9dbb917002bb7788dbf9619ae,690d35f9dbb917002bb7788dbf9619ac,6d0d35f9dbb917002bb7788dbf9619ab,a10d35f9dbb917002bb7788dbf9619ab,e90df9b5dbb917002bb7788dbf96192c,e50d35f9dbb917002bb7788dbf9619a9,ed0d35f9dbb917002bb7788dbf9619ae,e90d35f9dbb917002bb7788dbf9619a6</full_sequences>
        <journal/>
        <max_activity_count>100</max_activity_count>
        <name>Alarm Incident Workflow</name>
        <not_cacheable>false</not_cacheable>
        <on_cancel><![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]></on_cancel>
        <order>100</order>
        <pin_type>set_by_activity</pin_type>
        <published>true</published>
        <relative_duration display_value="2 business days by 4pm">3bf802c20a0a0b52008e2859cd8abcf2</relative_duration>
        <requires_ert>true</requires_ert>
        <run_multiple>false</run_multiple>
        <schedule/>
        <stage_field/>
        <stage_order>computed</stage_order>
        <start display_value="Begin">a50d35f9dbb917002bb7788dbf9619ad</start>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0df9b5dbb917002bb7788dbf96192a</sys_id>
        <sys_mod_count>3</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 18:00:12</sys_updated_on>
        <table>x_179380_alarms_table</table>
        <timezone/>
        <validated>false</validated>
        <workflow display_value="Alarm Incident Workflow">9ffa7241db9113002bb7788dbf9619db</workflow>
    </wf_workflow_version>
    <wf_workflow action="INSERT_OR_UPDATE">
        <access>public</access>
        <description>Manage the Incident associated with an Alarm</description>
        <name>Alarm Incident Workflow</name>
        <preview/>
        <sys_class_name>wf_workflow</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-04-04 17:54:22</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>9ffa7241db9113002bb7788dbf9619db</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Alarm Incident Workflow</sys_name>
        <sys_overrides/>
        <sys_package display_value="Alarms" source="x_179380_alarms">33b7f062db0113002bb7788dbf9619f0</sys_package>
        <sys_policy/>
        <sys_scope display_value="Alarms">33b7f062db0113002bb7788dbf9619f0</sys_scope>
        <sys_update_name>wf_workflow_9ffa7241db9113002bb7788dbf9619db</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-04-04 17:54:22</sys_updated_on>
        <table>x_179380_alarms_table</table>
        <template>false</template>
        <vars/>
    </wf_workflow>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Begin">c7a5e32c0a0a0b3a002377c24ed8ea76</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>1</databus_lookup_id>
        <height/>
        <input/>
        <is_parent>false</is_parent>
        <name>Begin</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a50d35f9dbb917002bb7788dbf9619ad</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>20</x>
        <y>20</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=a50d35f9dbb917002bb7788dbf9619ad"/>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Begin">a50d35f9dbb917002bb7788dbf9619ad</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>6d0d35f9dbb917002bb7788dbf9619ad</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>6</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Check to see if incident group has been set</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e90df9b5dbb917002bb7788dbf96192c</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 18:00:06</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>709</x>
        <y>333</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e90df9b5dbb917002bb7788dbf96192c"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90df9b5dbb917002bb7788dbf96192c</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>2d0df9b5dbb917002bb7788dbf96192d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
//   answer = ifScript();&#13;
//&#13;
//   function ifScript() {&#13;
//      if (condition is true) {&#13;
//         return 'yes';&#13;
//      }&#13;
//      return 'no';&#13;
//   }&#13;
</value>
        <variable display_value="">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90df9b5dbb917002bb7788dbf96192c</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610df9b5dbb917002bb7788dbf96192d</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 18:00:06</sys_updated_on>
        <value>incident.assignment_groupISEMPTY^ORincident.assignment_group=e57e2d6fdb6113002bb7788dbf961976^EQ</value>
        <variable display_value="">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90df9b5dbb917002bb7788dbf96192c</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690df9b5dbb917002bb7788dbf96192d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>0</value>
        <variable display_value="">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90df9b5dbb917002bb7788dbf96192c</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610df9b5dbb917002bb7788dbf96192d</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 18:00:06</sys_updated_on>
        <value>incident.assignment_groupISEMPTY^ORincident.assignment_group=e57e2d6fdb6113002bb7788dbf961976^EQ</value>
        <variable display_value="">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90df9b5dbb917002bb7788dbf96192c</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690df9b5dbb917002bb7788dbf96192d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>0</value>
        <variable display_value="">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90df9b5dbb917002bb7788dbf96192c</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>2d0df9b5dbb917002bb7788dbf96192d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
//   answer = ifScript();&#13;
//&#13;
//   function ifScript() {&#13;
//      if (condition is true) {&#13;
//         return 'yes';&#13;
//      }&#13;
//      return 'no';&#13;
//   }&#13;
</value>
        <variable display_value="">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check to see if incident group has been set">e90df9b5dbb917002bb7788dbf96192c</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>250df9b5dbb917002bb7788dbf96192e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Check to see if incident group has been set">e90df9b5dbb917002bb7788dbf96192c</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a10df9b5dbb917002bb7788dbf96192e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>5</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Close Incident</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e50d35f9dbb917002bb7788dbf9619a9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>955</x>
        <y>319</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e50d35f9dbb917002bb7788dbf9619a9"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e50d35f9dbb917002bb7788dbf9619a9</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690d35f9dbb917002bb7788dbf9619a9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>var resolvedState = 6;&#13;
&#13;
var myIncident = new GlideRecord('incident');&#13;
&#13;
var autoCloseUser = "0cceed6fdb6113002bb7788dbf9619c6";&#13;
&#13;
gs.info("YYY - Workflow for Alarm Update  is firing now.  Going to find existing Alarm and associated Incident.");&#13;
&#13;
// Find a matching Alarm&#13;
// It should match on the AlertID&#13;
&#13;
// Alarm has been found, now find the referenced Incident&#13;
myIncident.addQuery('sys_id', current.incident);&#13;
myIncident.query();&#13;
&#13;
// Find the first Incident returned.  There should only be one...&#13;
if(myIncident.next()){&#13;
	//Need to extend the conditions around when an incident may be resolved&#13;
	&#13;
	gs.info("Found attached Incident: " + myIncident.number + " Found Incident company: " + myIncident.company.name);&#13;
	myIncident.state = resolvedState;&#13;
	myIncident.close_notes = current.message;&#13;
	myIncident.resolved_by = autoCloseUser;&#13;
	&#13;
	// Closed code: "Closed/Resolved by Caller"&#13;
	myIncident.close_code = "Auto-Closed";&#13;
	gs.info("Incident has been resolved: " + current.sys_id);&#13;
	myIncident.update();&#13;
	&#13;
}&#13;
else{&#13;
	//What should happen if no incident is associated with the Alarm Update?&#13;
	&#13;
}&#13;
&#13;
//Need to extend the conditions around when an incident may be resolved&#13;
gs.info("Found attached Incident: " + current.incident.number + " Found Incident company: " + current.incident.company_name);&#13;
//current.incident.caller_id = current.incident.opened_by;&#13;
//current.incident.state = resolvedState;&#13;
//current.incident.close_notes = current.message;&#13;
//current.incident.short_description = "This ticket will be closed now";&#13;
&#13;
//current.incident.close_code = "Closed/Resolved by Caller";&#13;
gs.info("Incident has been resolved: " + current.incident.number);&#13;
//current.incident.update();&#13;
&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e50d35f9dbb917002bb7788dbf9619a9</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690d35f9dbb917002bb7788dbf9619a9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>var resolvedState = 6;&#13;
&#13;
var myIncident = new GlideRecord('incident');&#13;
&#13;
var autoCloseUser = "0cceed6fdb6113002bb7788dbf9619c6";&#13;
&#13;
gs.info("YYY - Workflow for Alarm Update  is firing now.  Going to find existing Alarm and associated Incident.");&#13;
&#13;
// Find a matching Alarm&#13;
// It should match on the AlertID&#13;
&#13;
// Alarm has been found, now find the referenced Incident&#13;
myIncident.addQuery('sys_id', current.incident);&#13;
myIncident.query();&#13;
&#13;
// Find the first Incident returned.  There should only be one...&#13;
if(myIncident.next()){&#13;
	//Need to extend the conditions around when an incident may be resolved&#13;
	&#13;
	gs.info("Found attached Incident: " + myIncident.number + " Found Incident company: " + myIncident.company.name);&#13;
	myIncident.state = resolvedState;&#13;
	myIncident.close_notes = current.message;&#13;
	myIncident.resolved_by = autoCloseUser;&#13;
	&#13;
	// Closed code: "Closed/Resolved by Caller"&#13;
	myIncident.close_code = "Auto-Closed";&#13;
	gs.info("Incident has been resolved: " + current.sys_id);&#13;
	myIncident.update();&#13;
	&#13;
}&#13;
else{&#13;
	//What should happen if no incident is associated with the Alarm Update?&#13;
	&#13;
}&#13;
&#13;
//Need to extend the conditions around when an incident may be resolved&#13;
gs.info("Found attached Incident: " + current.incident.number + " Found Incident company: " + current.incident.company_name);&#13;
//current.incident.caller_id = current.incident.opened_by;&#13;
//current.incident.state = resolvedState;&#13;
//current.incident.close_notes = current.message;&#13;
//current.incident.short_description = "This ticket will be closed now";&#13;
&#13;
//current.incident.close_code = "Closed/Resolved by Caller";&#13;
gs.info("Incident has been resolved: " + current.incident.number);&#13;
//current.incident.update();&#13;
&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Close Incident">e50d35f9dbb917002bb7788dbf9619a9</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>6d0d35f9dbb917002bb7788dbf9619a9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>3</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Create Incident</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e50d35f9dbb917002bb7788dbf9619a8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>188</x>
        <y>21</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e50d35f9dbb917002bb7788dbf9619a8"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e50d35f9dbb917002bb7788dbf9619a8</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e90d35f9dbb917002bb7788dbf9619a8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>var newIncident = new GlideRecord('incident');&#13;
var CI = new GlideRecord('cmdb_ci');&#13;
&#13;
var CILookupMessage = "";&#13;
var LookupErrorCount = 0;&#13;
&#13;
gs.info("Workflow for Alarm is firing now");&#13;
&#13;
// Initialize - create an empty record before insert&#13;
newIncident.initialize();&#13;
&#13;
// Find a matching CI by hostname.  Hostname should match perfectly, however, a&#13;
// customer lookup is still warranted&#13;
CI.addQuery('name', current.nodename);&#13;
CI.query();&#13;
&#13;
// Found the CI, now set it in the Incident&#13;
if (CI.next()) {&#13;
	// Add a CI reference to Incident&#13;
	gs.info("Found CI: " + CI.name + " Looking for company: " + CI.company.name);&#13;
	CILookupMessage = "A CI with the name of " + current.nodename+ " has been found in the CMDB.\n\n";&#13;
	//newIncident.cmdb_ci = CI.sys_id;&#13;
}&#13;
else{&#13;
	//What should happen if no CI is found?&#13;
	CILookupMessage = "WARNING: A CI Record with the host name of '" + current.nodename + "' was NOT found.\n\n";&#13;
	LookupErrorCount++;&#13;
}&#13;
&#13;
// Add a search for Customer so we're now looking for CI and Customer&#13;
CI.addQuery('company.name', current.company);&#13;
CI.query();&#13;
&#13;
if (CI.next()) {&#13;
	// Add a CI reference to Incident&#13;
	gs.info("Found Company: " + CI.company.name + " for CI: " + CI.name);&#13;
	CILookupMessage += "Customer has been located: " + current.company +"\n\n";&#13;
	newIncident.cmdb_ci = CI.sys_id;&#13;
	newIncident.company = CI.company;&#13;
	gs.info("Adding Company to Incident: " + CI.sys_id);&#13;
}&#13;
else{&#13;
	//What should happen if no CI is found?&#13;
	CILookupMessage += "WARNING: CI: " +current.nodename+ " under Customer: " + current.company + " was NOT found \n\n";&#13;
	LookupErrorCount++;&#13;
}&#13;
&#13;
// Verify the IP Address&#13;
CI.addQuery('ip_address', current.ip);&#13;
CI.query();&#13;
&#13;
if (CI.next()) {&#13;
	// Add a CI reference to Incident&#13;
	gs.info("Found IP address: " + current.ip + ".  Found Company: " + CI.company.name + " for CI: " + CI.name);&#13;
	//newIncident.cmdb_ci = CI.sys_id;&#13;
	CILookupMessage += "Found IP address: " + current.ip + " for CI: " +current.nodename+ " under Customer: " + current.company + " \n\n";&#13;
	gs.info("Found the correct IP address: " + current.ip);&#13;
}&#13;
else{&#13;
	//What should happen if no CI is found?&#13;
	CILookupMessage += "WARNING: CI under customer: " +current.company + " with a hostname of " + current.nodename + " and an IP address of " + current.ip + " was not found in the CMDB.  Please create/update a record for " + current.nodename + " for customer: " + current.company + "\n\n";&#13;
	LookupErrorCount++;&#13;
}&#13;
&#13;
if(LookupErrorCount&gt;0){&#13;
	CILookupMessage = "WARNING: Exceptions have been found with the CI in this Incident.  Please view the output below and correct. \n\n " + CILookupMessage;&#13;
}&#13;
&#13;
&#13;
newIncident.short_description = current.message;&#13;
newIncident.work_notes = CILookupMessage;&#13;
&#13;
newIncident.description = current.message  ;&#13;
&#13;
newIncident.urgency = current.urgency;&#13;
newIncident.impact = current.impact;&#13;
&#13;
// Set alarm reference&#13;
newIncident.u_event_id = current.sys_id;&#13;
newIncident.u_em7_ticket_id = current.alertid;&#13;
newIncident.u_monitoring_system = current.source;&#13;
newIncident.contact_type = "monitoring";&#13;
&#13;
newIncident.insert(); //insert the new record&#13;
&#13;
gs.info("Created new incident: " + newIncident.sys_id);&#13;
&#13;
&#13;
//set reference to the newly created Incident&#13;
current.incident = newIncident.sys_id;&#13;
&#13;
current.message += " Incident: " + newIncident.number;&#13;
current.message += " Incident sys_id: " + newIncident.sys_id;&#13;
&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e50d35f9dbb917002bb7788dbf9619a8</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e90d35f9dbb917002bb7788dbf9619a8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>var newIncident = new GlideRecord('incident');&#13;
var CI = new GlideRecord('cmdb_ci');&#13;
&#13;
var CILookupMessage = "";&#13;
var LookupErrorCount = 0;&#13;
&#13;
gs.info("Workflow for Alarm is firing now");&#13;
&#13;
// Initialize - create an empty record before insert&#13;
newIncident.initialize();&#13;
&#13;
// Find a matching CI by hostname.  Hostname should match perfectly, however, a&#13;
// customer lookup is still warranted&#13;
CI.addQuery('name', current.nodename);&#13;
CI.query();&#13;
&#13;
// Found the CI, now set it in the Incident&#13;
if (CI.next()) {&#13;
	// Add a CI reference to Incident&#13;
	gs.info("Found CI: " + CI.name + " Looking for company: " + CI.company.name);&#13;
	CILookupMessage = "A CI with the name of " + current.nodename+ " has been found in the CMDB.\n\n";&#13;
	//newIncident.cmdb_ci = CI.sys_id;&#13;
}&#13;
else{&#13;
	//What should happen if no CI is found?&#13;
	CILookupMessage = "WARNING: A CI Record with the host name of '" + current.nodename + "' was NOT found.\n\n";&#13;
	LookupErrorCount++;&#13;
}&#13;
&#13;
// Add a search for Customer so we're now looking for CI and Customer&#13;
CI.addQuery('company.name', current.company);&#13;
CI.query();&#13;
&#13;
if (CI.next()) {&#13;
	// Add a CI reference to Incident&#13;
	gs.info("Found Company: " + CI.company.name + " for CI: " + CI.name);&#13;
	CILookupMessage += "Customer has been located: " + current.company +"\n\n";&#13;
	newIncident.cmdb_ci = CI.sys_id;&#13;
	newIncident.company = CI.company;&#13;
	gs.info("Adding Company to Incident: " + CI.sys_id);&#13;
}&#13;
else{&#13;
	//What should happen if no CI is found?&#13;
	CILookupMessage += "WARNING: CI: " +current.nodename+ " under Customer: " + current.company + " was NOT found \n\n";&#13;
	LookupErrorCount++;&#13;
}&#13;
&#13;
// Verify the IP Address&#13;
CI.addQuery('ip_address', current.ip);&#13;
CI.query();&#13;
&#13;
if (CI.next()) {&#13;
	// Add a CI reference to Incident&#13;
	gs.info("Found IP address: " + current.ip + ".  Found Company: " + CI.company.name + " for CI: " + CI.name);&#13;
	//newIncident.cmdb_ci = CI.sys_id;&#13;
	CILookupMessage += "Found IP address: " + current.ip + " for CI: " +current.nodename+ " under Customer: " + current.company + " \n\n";&#13;
	gs.info("Found the correct IP address: " + current.ip);&#13;
}&#13;
else{&#13;
	//What should happen if no CI is found?&#13;
	CILookupMessage += "WARNING: CI under customer: " +current.company + " with a hostname of " + current.nodename + " and an IP address of " + current.ip + " was not found in the CMDB.  Please create/update a record for " + current.nodename + " for customer: " + current.company + "\n\n";&#13;
	LookupErrorCount++;&#13;
}&#13;
&#13;
if(LookupErrorCount&gt;0){&#13;
	CILookupMessage = "WARNING: Exceptions have been found with the CI in this Incident.  Please view the output below and correct. \n\n " + CILookupMessage;&#13;
}&#13;
&#13;
&#13;
newIncident.short_description = current.message;&#13;
newIncident.work_notes = CILookupMessage;&#13;
&#13;
newIncident.description = current.message  ;&#13;
&#13;
newIncident.urgency = current.urgency;&#13;
newIncident.impact = current.impact;&#13;
&#13;
// Set alarm reference&#13;
newIncident.u_event_id = current.sys_id;&#13;
newIncident.u_em7_ticket_id = current.alertid;&#13;
newIncident.u_monitoring_system = current.source;&#13;
newIncident.contact_type = "monitoring";&#13;
&#13;
newIncident.insert(); //insert the new record&#13;
&#13;
gs.info("Created new incident: " + newIncident.sys_id);&#13;
&#13;
&#13;
//set reference to the newly created Incident&#13;
current.incident = newIncident.sys_id;&#13;
&#13;
current.message += " Incident: " + newIncident.number;&#13;
current.message += " Incident sys_id: " + newIncident.sys_id;&#13;
&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Create Incident">e50d35f9dbb917002bb7788dbf9619a8</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610d35f9dbb917002bb7788dbf9619a9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="End">c7a66f7d0a0a0b3a004544a6d2f14076</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>2</databus_lookup_id>
        <height/>
        <input/>
        <is_parent>false</is_parent>
        <name>End</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a10d35f9dbb917002bb7788dbf9619ab</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>598</x>
        <y>731</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=a10d35f9dbb917002bb7788dbf9619ab"/>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>14</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>If CI Monitor Only</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0df9b5dbb917002bb7788dbf96192f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>418</x>
        <y>10</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=ed0df9b5dbb917002bb7788dbf96192f"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0df9b5dbb917002bb7788dbf96192f</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>250df9b5dbb917002bb7788dbf961930</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>0</value>
        <variable display_value="">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0df9b5dbb917002bb7788dbf96192f</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610df9b5dbb917002bb7788dbf961930</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>incident.cmdb_ci.u_support_type=monitor only^EQ</value>
        <variable display_value="">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0df9b5dbb917002bb7788dbf96192f</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619a5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
//   answer = ifScript();&#13;
//&#13;
//   function ifScript() {&#13;
//      if (condition is true) {&#13;
//         return 'yes';&#13;
//      }&#13;
//      return 'no';&#13;
//   }&#13;
</value>
        <variable display_value="">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0df9b5dbb917002bb7788dbf96192f</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610df9b5dbb917002bb7788dbf961930</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>incident.cmdb_ci.u_support_type=monitor only^EQ</value>
        <variable display_value="">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0df9b5dbb917002bb7788dbf96192f</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>250df9b5dbb917002bb7788dbf961930</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>0</value>
        <variable display_value="">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0df9b5dbb917002bb7788dbf96192f</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619a5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// This script needs to set answer to 'yes' or 'no' to indicate the state of the activity.&#13;
//&#13;
// For example,&#13;
//&#13;
//   answer = ifScript();&#13;
//&#13;
//   function ifScript() {&#13;
//      if (condition is true) {&#13;
//         return 'yes';&#13;
//      }&#13;
//      return 'no';&#13;
//   }&#13;
</value>
        <variable display_value="">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="If CI Monitor Only">ed0df9b5dbb917002bb7788dbf96192f</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e10d35f9dbb917002bb7788dbf9619a6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="If CI Monitor Only">ed0df9b5dbb917002bb7788dbf96192f</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619a6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Log Message">396807940a0a0b5c00afd9f67d9fd7a2</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>11</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Incident has been assigned</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e90d35f9dbb917002bb7788dbf9619a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>684</x>
        <y>1</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e90d35f9dbb917002bb7788dbf9619a7"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90d35f9dbb917002bb7788dbf9619a7</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>6d0d35f9dbb917002bb7788dbf9619a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>XXX - Turns out the CI is monitor only</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90d35f9dbb917002bb7788dbf9619a7</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>6d0d35f9dbb917002bb7788dbf9619a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>XXX - Turns out the CI is monitor only</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Incident has been assigned">e90d35f9dbb917002bb7788dbf9619a7</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610d35f9dbb917002bb7788dbf9619a8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Log Message">396807940a0a0b5c00afd9f67d9fd7a2</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>10</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Log Alarm Clear</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>6d0d35f9dbb917002bb7788dbf9619ab</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>982</x>
        <y>185</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6d0d35f9dbb917002bb7788dbf9619ab"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6d0d35f9dbb917002bb7788dbf9619ab</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619ab</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>XXX - The Alarm has cleared.  Going to check for group assignment</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6d0d35f9dbb917002bb7788dbf9619ab</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619ab</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>XXX - The Alarm has cleared.  Going to check for group assignment</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Log Alarm Clear">6d0d35f9dbb917002bb7788dbf9619ab</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e10d35f9dbb917002bb7788dbf9619ac</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Log Message">396807940a0a0b5c00afd9f67d9fd7a2</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>9</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Log Auto Close From Alarm Update</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e90d35f9dbb917002bb7788dbf9619a6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>1003</x>
        <y>481</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e90d35f9dbb917002bb7788dbf9619a6"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90d35f9dbb917002bb7788dbf9619a6</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619a6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>The incident has been automatically closed from an Alarm Update</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e90d35f9dbb917002bb7788dbf9619a6</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619a6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>The incident has been automatically closed from an Alarm Update</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Log Auto Close From Alarm Update">e90d35f9dbb917002bb7788dbf9619a6</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619a7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Log Message">396807940a0a0b5c00afd9f67d9fd7a2</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>12</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Log Auto Close From Alarm Update</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619ae</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>725</x>
        <y>491</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=ed0d35f9dbb917002bb7788dbf9619ae"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0d35f9dbb917002bb7788dbf9619ae</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610d35f9dbb917002bb7788dbf9619af</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>XXX - The incident has received an Alarm Update.  It has been assigned to the Service Desk so it cannot be automatically closed</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>ed0d35f9dbb917002bb7788dbf9619ae</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>610d35f9dbb917002bb7788dbf9619af</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>XXX - The incident has received an Alarm Update.  It has been assigned to the Service Desk so it cannot be automatically closed</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Log Auto Close From Alarm Update">ed0d35f9dbb917002bb7788dbf9619ae</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619af</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Log Message">396807940a0a0b5c00afd9f67d9fd7a2</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>8</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Log Closed Leg</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690d35f9dbb917002bb7788dbf9619ac</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>82</x>
        <y>499</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=690d35f9dbb917002bb7788dbf9619ac"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>690d35f9dbb917002bb7788dbf9619ac</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e90d35f9dbb917002bb7788dbf9619ac</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>The Alarm Workflow has hit the Incident Resolved leg</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>690d35f9dbb917002bb7788dbf9619ac</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e90d35f9dbb917002bb7788dbf9619ac</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>The Alarm Workflow has hit the Incident Resolved leg</value>
        <variable display_value="">c35dbd1a0a0a0ba96248a7092864142d</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Log Closed Leg">690d35f9dbb917002bb7788dbf9619ac</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619ac</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>16</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Set Incident to Auto Close</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e10d35f9dbb917002bb7788dbf9619ae</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>58</x>
        <y>168</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e10d35f9dbb917002bb7788dbf9619ae"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e10d35f9dbb917002bb7788dbf9619ae</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619ae</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>var resolvedState = 6;&#13;
&#13;
var myIncident = new GlideRecord('incident');&#13;
&#13;
var autoCloseUser = "0cceed6fdb6113002bb7788dbf9619c6";&#13;
var autoCloseGroup = "e57e2d6fdb6113002bb7788dbf961976";&#13;
&#13;
gs.info("Set user - Updating Incident to assign to Auto-Close user and Team");&#13;
&#13;
// Find a matching Alarm&#13;
// It should match on the AlertID&#13;
&#13;
// Alarm has been found, now find the referenced Incident&#13;
myIncident.addQuery('sys_id', current.incident);&#13;
myIncident.query();&#13;
&#13;
// Find the first Incident returned.  There should only be one...&#13;
if(myIncident.next()){&#13;
	//Need to extend the conditions around when an incident may be resolved&#13;
	&#13;
	gs.info("Set user: " + myIncident.number + " Found Incident company: " + myIncident.company.name);&#13;
&#13;
	myIncident.assigned_to = autoCloseUser;&#13;
	myIncident.assignment_group = autoCloseGroup;&#13;
	&#13;
	// Closed code: "Closed/Resolved by Caller"&#13;
&#13;
	gs.info("Set user - Incident has been assigned to Auto-close user and group: ");&#13;
	myIncident.update();&#13;
	&#13;
}&#13;
else{&#13;
	//What should happen if no incident is associated with the Alarm Update?&#13;
	&#13;
}&#13;
&#13;
&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e10d35f9dbb917002bb7788dbf9619ae</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619ae</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>var resolvedState = 6;&#13;
&#13;
var myIncident = new GlideRecord('incident');&#13;
&#13;
var autoCloseUser = "0cceed6fdb6113002bb7788dbf9619c6";&#13;
var autoCloseGroup = "e57e2d6fdb6113002bb7788dbf961976";&#13;
&#13;
gs.info("Set user - Updating Incident to assign to Auto-Close user and Team");&#13;
&#13;
// Find a matching Alarm&#13;
// It should match on the AlertID&#13;
&#13;
// Alarm has been found, now find the referenced Incident&#13;
myIncident.addQuery('sys_id', current.incident);&#13;
myIncident.query();&#13;
&#13;
// Find the first Incident returned.  There should only be one...&#13;
if(myIncident.next()){&#13;
	//Need to extend the conditions around when an incident may be resolved&#13;
	&#13;
	gs.info("Set user: " + myIncident.number + " Found Incident company: " + myIncident.company.name);&#13;
&#13;
	myIncident.assigned_to = autoCloseUser;&#13;
	myIncident.assignment_group = autoCloseGroup;&#13;
	&#13;
	// Closed code: "Closed/Resolved by Caller"&#13;
&#13;
	gs.info("Set user - Incident has been assigned to Auto-close user and group: ");&#13;
	myIncident.update();&#13;
	&#13;
}&#13;
else{&#13;
	//What should happen if no incident is associated with the Alarm Update?&#13;
	&#13;
}&#13;
&#13;
&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Set Incident to Auto Close">e10d35f9dbb917002bb7788dbf9619ae</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690d35f9dbb917002bb7788dbf9619ae</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Wait for condition">d93a02ae0a0a0aa30077abad3fdac035</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>4</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Wait for Clear on Alarm</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e10d35f9dbb917002bb7788dbf9619aa</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>661</x>
        <y>152</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=e10d35f9dbb917002bb7788dbf9619aa"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e10d35f9dbb917002bb7788dbf9619aa</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>290d35f9dbb917002bb7788dbf9619aa</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>status=clear^EQ</value>
        <variable display_value="">c35dc4cd0a0a0ba96248a70990c1ac54</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e10d35f9dbb917002bb7788dbf9619aa</document_key>
        <order>2</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619aa</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// Set the variable 'answer' to true or false to indicate if the condition has been met or not.&#13;
answer = true;&#13;
</value>
        <variable display_value="">c35debce0a0a0ba96248a709440cf31a</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e10d35f9dbb917002bb7788dbf9619aa</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>290d35f9dbb917002bb7788dbf9619aa</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>status=clear^EQ</value>
        <variable display_value="">c35dc4cd0a0a0ba96248a70990c1ac54</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>e10d35f9dbb917002bb7788dbf9619aa</document_key>
        <order>2</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619aa</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// Set the variable 'answer' to true or false to indicate if the condition has been met or not.&#13;
answer = true;&#13;
</value>
        <variable display_value="">c35debce0a0a0ba96248a709440cf31a</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Wait for Clear on Alarm">e10d35f9dbb917002bb7788dbf9619aa</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>2d0d35f9dbb917002bb7788dbf9619aa</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Wait for condition">d93a02ae0a0a0aa30077abad3fdac035</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>7</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Wait For Incident Close</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>2d0df9b5dbb917002bb7788dbf96192e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
        <x>84</x>
        <y>355</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2d0df9b5dbb917002bb7788dbf96192e"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2d0df9b5dbb917002bb7788dbf96192e</document_key>
        <order>2</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>210df9b5dbb917002bb7788dbf96192f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// Set the variable 'answer' to true or false to indicate if the condition has been met or not.&#13;
//answer = true;&#13;
</value>
        <variable display_value="">c35debce0a0a0ba96248a709440cf31a</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2d0df9b5dbb917002bb7788dbf96192e</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e10df9b5dbb917002bb7788dbf96192f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>incident.state=6^EQ</value>
        <variable display_value="">c35dc4cd0a0a0ba96248a70990c1ac54</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2d0df9b5dbb917002bb7788dbf96192e</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e10df9b5dbb917002bb7788dbf96192f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>incident.state=6^EQ</value>
        <variable display_value="">c35dc4cd0a0a0ba96248a70990c1ac54</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2d0df9b5dbb917002bb7788dbf96192e</document_key>
        <order>2</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>210df9b5dbb917002bb7788dbf96192f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <value>// Set the variable 'answer' to true or false to indicate if the condition has been met or not.&#13;
//answer = true;&#13;
</value>
        <variable display_value="">c35debce0a0a0ba96248a709440cf31a</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Wait For Incident Close">2d0df9b5dbb917002bb7788dbf96192e</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690df9b5dbb917002bb7788dbf96192f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
    </wf_condition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">a10df9b5dbb917002bb7788dbf96192e</condition>
        <from display_value="Check to see if incident group has been set">e90df9b5dbb917002bb7788dbf96192c</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>210d35f9dbb917002bb7788dbf9619b1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Close Incident">e50d35f9dbb917002bb7788dbf9619a9</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">690d35f9dbb917002bb7788dbf9619ae</condition>
        <from display_value="Set Incident to Auto Close">e10d35f9dbb917002bb7788dbf9619ae</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>250d35f9dbb917002bb7788dbf9619b3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Wait for Clear on Alarm">e10d35f9dbb917002bb7788dbf9619aa</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">690df9b5dbb917002bb7788dbf96192f</condition>
        <from display_value="Wait For Incident Close">2d0df9b5dbb917002bb7788dbf96192e</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>2d0d35f9dbb917002bb7788dbf9619b1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Log Closed Leg">690d35f9dbb917002bb7788dbf9619ac</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">610d35f9dbb917002bb7788dbf9619a8</condition>
        <from display_value="Incident has been assigned">e90d35f9dbb917002bb7788dbf9619a7</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>2d0d35f9dbb917002bb7788dbf9619b2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Set Incident to Auto Close">e10d35f9dbb917002bb7788dbf9619ae</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">6d0d35f9dbb917002bb7788dbf9619a9</condition>
        <from display_value="Close Incident">e50d35f9dbb917002bb7788dbf9619a9</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619b1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Log Auto Close From Alarm Update">e90d35f9dbb917002bb7788dbf9619a6</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">650d35f9dbb917002bb7788dbf9619a6</condition>
        <from display_value="If CI Monitor Only">ed0df9b5dbb917002bb7788dbf96192f</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>650d35f9dbb917002bb7788dbf9619b2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Incident has been assigned">e90d35f9dbb917002bb7788dbf9619a7</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">ed0d35f9dbb917002bb7788dbf9619ac</condition>
        <from display_value="Log Closed Leg">690d35f9dbb917002bb7788dbf9619ac</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690d35f9dbb917002bb7788dbf9619b1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="End">a10d35f9dbb917002bb7788dbf9619ab</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">e10d35f9dbb917002bb7788dbf9619a6</condition>
        <from display_value="If CI Monitor Only">ed0df9b5dbb917002bb7788dbf96192f</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>690d35f9dbb917002bb7788dbf9619b2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Wait For Incident Close">2d0df9b5dbb917002bb7788dbf96192e</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">610d35f9dbb917002bb7788dbf9619a9</condition>
        <from display_value="Create Incident">e50d35f9dbb917002bb7788dbf9619a8</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>6d0d35f9dbb917002bb7788dbf9619b0</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="If CI Monitor Only">ed0df9b5dbb917002bb7788dbf96192f</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">250df9b5dbb917002bb7788dbf96192e</condition>
        <from display_value="Check to see if incident group has been set">e90df9b5dbb917002bb7788dbf96192c</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a10d35f9dbb917002bb7788dbf9619b1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Log Auto Close From Alarm Update">ed0d35f9dbb917002bb7788dbf9619ae</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">6d0d35f9dbb917002bb7788dbf9619ad</condition>
        <from display_value="Begin">a50d35f9dbb917002bb7788dbf9619ad</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a10d35f9dbb917002bb7788dbf9619b2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Create Incident">e50d35f9dbb917002bb7788dbf9619a8</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">690d35f9dbb917002bb7788dbf9619ae</condition>
        <from display_value="Set Incident to Auto Close">e10d35f9dbb917002bb7788dbf9619ae</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a10d35f9dbb917002bb7788dbf9619b3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Wait For Incident Close">2d0df9b5dbb917002bb7788dbf96192e</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">e10d35f9dbb917002bb7788dbf9619ac</condition>
        <from display_value="Log Alarm Clear">6d0d35f9dbb917002bb7788dbf9619ab</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a90d35f9dbb917002bb7788dbf9619b0</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Check to see if incident group has been set">e90df9b5dbb917002bb7788dbf96192c</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">650d35f9dbb917002bb7788dbf9619a7</condition>
        <from display_value="Log Auto Close From Alarm Update">e90d35f9dbb917002bb7788dbf9619a6</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e50d35f9dbb917002bb7788dbf9619b0</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="End">a10d35f9dbb917002bb7788dbf9619ab</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">e10d35f9dbb917002bb7788dbf9619a6</condition>
        <from display_value="If CI Monitor Only">ed0df9b5dbb917002bb7788dbf96192f</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>e50d35f9dbb917002bb7788dbf9619b2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Wait for Clear on Alarm">e10d35f9dbb917002bb7788dbf9619aa</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">2d0d35f9dbb917002bb7788dbf9619aa</condition>
        <from display_value="Wait for Clear on Alarm">e10d35f9dbb917002bb7788dbf9619aa</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619b1</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="Log Alarm Clear">6d0d35f9dbb917002bb7788dbf9619ab</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">650d35f9dbb917002bb7788dbf9619af</condition>
        <from display_value="Log Auto Close From Alarm Update">ed0d35f9dbb917002bb7788dbf9619ae</from>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>ed0d35f9dbb917002bb7788dbf9619b2</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <to display_value="End">a10d35f9dbb917002bb7788dbf9619ab</to>
    </wf_transition>
    <wf_estimated_runtime_config action="INSERT_OR_UPDATE">
        <estimated_run_time/>
        <no_of_data_points>1</no_of_data_points>
        <percentage_threshold_ert>20</percentage_threshold_ert>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2018-05-01 17:50:29</sys_created_on>
        <sys_id>a10df9b5dbb917002bb7788dbf96192b</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-05-01 17:50:29</sys_updated_on>
        <workflow_version display_value="Alarm Incident Workflow">ed0df9b5dbb917002bb7788dbf96192a</workflow_version>
    </wf_estimated_runtime_config>
    <wf_workflow_version action="update_multiple" query="workflow=9ffa7241db9113002bb7788dbf9619db^sys_id!=ed0df9b5dbb917002bb7788dbf96192a">
        <published>false</published>
    </wf_workflow_version>
</record_update>
